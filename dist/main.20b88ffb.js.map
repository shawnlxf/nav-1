{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","$iconMode","originHashMap","url","text","hashMap","$reset","on","applyHashMap","store","simplifyUrl","replace","setIcon","$li","node","img","querySelector","setAttribute","icon","innerText","faviconUrl","remove","forEach","index","insertBefore","window","open","e","stopPropagation","splice","string","stringify","setItem","location","reload","prompt","indexOf","push","onbeforeunload","onload","document","key","i","length","toLowerCase"],"mappings":"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","file":"main.20b88ffb.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.website-list')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)\r\nconst $iconMode = $('.icon-mode')\r\nconst originHashMap = [\r\n    { url: 'https://www.iconfont.cn/', text: 'iconfont' },\r\n    { url: 'https://www.iconfinder.com/', text: 'iconfinder' },\r\n    { url: 'https://material.io/design/color/the-color-system.html#tools-for-picking-colors', text: 'material colors' },\r\n    { url: 'https://chat.mozilla.org/#/room/#mdn:mozilla.org', text: 'matrix(mozilla)' },\r\n]\r\nconst hashMap = xObject || originHashMap\r\nconst $reset = $('.reset')\r\n\r\n$iconMode.on('click', () => {\r\n    if ($iconMode.text() === '文字') {\r\n        $iconMode.text(\"favicon\")\r\n    } else {\r\n        $iconMode.text(\"文字\")\r\n    }\r\n    applyHashMap()\r\n})\r\n\r\n// 防止在重置之前保存 hashMap\r\nlet store = true\r\n\r\nconst simplifyUrl = (url) => {\r\n    return url.replace('https://', '')\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n}\r\n\r\nfunction setIcon($li, node) {\r\n    if ($iconMode.text() === '文字') {\r\n        const img = $li[0].querySelector('img')\r\n        img.setAttribute('src', '')\r\n        const icon = $li[0].querySelector('.icon-text')\r\n        const text = $li[0].querySelector('.site-text')\r\n        if (!text.innerText) {\r\n            icon.innerText = \"?\"\r\n            text.innerText = \"undefined\"\r\n        } else {\r\n            icon.innerText = text.innerText[0]\r\n        }\r\n    } else {\r\n        const icon = $li[0].querySelector('.icon-text')\r\n        icon.innerText = ''\r\n        const text = $li[0].querySelector('.site-text')\r\n        if (!text.innerText) {\r\n            text.innerText = \"undefined\"\r\n        }\r\n        const img = $li[0].querySelector('img')\r\n        const faviconUrl = node.url.replace('//', '//' + 'favicon.link/')\r\n        img.setAttribute('src', faviconUrl)\r\n    }\r\n}\r\n\r\nconst applyHashMap = () => {\r\n    $siteList.find('li:not(.last)').remove()\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`<li>\r\n                <div class=\"site\">\r\n                    <div class=\"site-icon\">\r\n                        <img src=\"\"></img>\r\n                        <div class=\"icon-text\"></div>\r\n                    </div>\r\n                    <div class=\"site-text\">${node.text}</div>\r\n                    <div class=\"close\">\r\n                        <svg class=\"icon-close\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-close\"></use>\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n        </li>`).insertBefore($lastLi)\r\n        $li.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click', '.close', (e) => {\r\n            e.stopPropagation() // 阻止冒泡\r\n            hashMap.splice(index, 1)\r\n            applyHashMap()\r\n        })\r\n        setIcon($li, node)\r\n    })\r\n}\r\n\r\n\r\n$('.reset').on('click', () => {\r\n    const string = JSON.stringify(originHashMap)\r\n    localStorage.setItem('x', string)\r\n    store = false\r\n    location.reload()\r\n})\r\n\r\n$('.add-button')\r\n    .on('click', () => {\r\n        let url = window.prompt('请输入网址', 'https://')\r\n        if (url.indexOf('http') !== 0) {\r\n            url = 'https://' + url\r\n        }\r\n        let text = window.prompt('请输入网址名称')\r\n        if (!text) {\r\n            text = simplifyUrl(url)\r\n        }\r\n        hashMap.push({\r\n            url: url,\r\n            text: text\r\n        })\r\n        applyHashMap()\r\n    })\r\n\r\nwindow.onbeforeunload = () => {\r\n    if (!store) {\r\n        store = !store\r\n        return\r\n    }\r\n    const string = JSON.stringify(hashMap)\r\n    localStorage.setItem('x', string)\r\n}\r\n\r\nwindow.onload = () => {\r\n    applyHashMap()\r\n}\r\n\r\n$(document).on('keypress', (e)=>{\r\n    // const key = e.key 简写\r\n    const {key} = e\r\n    for (let i = 0; i < hashMap.length; i++) {\r\n        // console.log(hashMap[i].text[0])\r\n        if (!hashMap[i].text) {\r\n            continue\r\n        }\r\n        if (hashMap[i].text[0].toLowerCase() === key) {\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})"]}